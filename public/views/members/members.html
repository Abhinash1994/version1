<style>
    table, th, td {
        text-align: center; 
        border: 1px solid black;
        border-collapse: collapse;
    }
</style>



<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">Members</h1>
    </div>
    <!-- /.col-lg-12 -->
</div>
<!-- /.row -->

<div class="container-fluid">

                <div class="container-fluid">
				

          <div class="row" style="text-align:center">
            <button class="btn btn-lg" data-toggle="modal" data-target="#addNewMember">
                Add New Member
            </button>
          </div>
</div>


<div class="modal fade" id="addNewMember" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                      <div class="modal-dialog">
                          <div class="modal-content">
                              <div class="modal-header">
                                  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                  <h4 class="modal-title" id="myModalLabel">Add New Member</h4>
                              </div>
                              <form role="form" ng-submit="addNewMember()" name="employeeDetails">
                              <div class="modal-body">
                                  <div class="row">
                                          <div class="col-lg-6">
                                               <div class="form-group">
                                                  <label>Email ID*</label>
                                                  <input ng-model="newMember.emailId" class="form-control" name="email" required>
                                                  <span ng-show="employeeDetails.email.$dirty && employeeDetails.email.$error.required">Email is required.</span>
                                                  <span ng-show="employeeDetails.email.$error.email">Invalid email address.</span>
                                              </div>
                                               </div>
                                        <div class="col-lg-6">
                                              <div class="form-group">
                                                  <label>Password</label>
                                                  <input ng-model="newMember.password" class="form-control" name="password">
                                              </div>
                                          </div>
                                      
                                         <div class="col-lg-6">
                                              <div class="form-group">
                                                  <label>First Name*</label>
                                                  <input ng-model="newMember.firstName" class="form-control" name="firstname" ng-minlength=3 required>
                                                  <span ng-show="employeeDetails.firstname.$dirty && employeeDetails.firstname.$error.required">First Name is required.</span>
                                                  <span ng-show="employeeDetails.firstname.$dirty && employeeDetails.firstname.$error.minlength">First Name is too short.</span>
                                              </div>
                                            </div>
                                         
                                          <div class="col-lg-6">
                                              <div class="form-group">
                                                  <label>Last Name*</label>
                                                  <input ng-model="newMember.lastName" name="lastname" class="form-control" ng-minlength=3 required>
                                                  <span ng-show="employeeDetails.lastname.$dirty && employeeDetails.lastname.$error.required">Last Name is required.</span>
                                                  <span ng-show="employeeDetails.lastname.$dirty &&  employeeDetails.lastname.$error.minlength">Last Name is too short.</span>
                                              </div>
                                          </div>
                                         

                                          <div class="col-lg-6">
                                              <div class="form-group">
                                                  <label>Phone Number*</label>
                                                  <input ng-model="newMember.phoneNumber" class="form-control" name="phnNo" ng-pattern="/^[789]\d{9}$/" required>
                                                  <span ng-show="employeeDetails.phnNo.$dirty &&  employeeDetails.phnNo.$error.required">Phone Number is required.</span>
                                                  <span ng-show="employeeDetails.phnNo.$dirty &&  employeeDetails.phnNo.$error.pattern">Invalid Phone Number.</span>
                                              </div>
                                          </div>

                                          <div class="col-lg-6">
                                              <div class="form-group">
                                                  <label>Employee Category</label>
                                                  <select class="form-control" name="category" ng-model="newMember.role" required>
                                                      <option value="1">Main Admin</option>
                                                      <option value="2">HR</option>
                                                      <option value="3">Operation</option>
                                                      <option value="4">Sales</option>
                                                      <option value="6">Trainer</option>
                                                      <option value="7">Marketing</option>
                                                      <option value="8">Designer</option>
                                                      <option value="9">Cashier</option>
                                                      <option value="10">Call Center</option>
                                                      <option value="11">Finance</option>
                                                  </select>
                                              </div>
                                          </div>
                                    <div class="col-lg-12">
                                        <div class="form-group">
                                                  <label>Select Salon</label>
    <div style = "margin-left:-20px">
    <div style="display:inline-flex" isteven-multi-select input-model="parlors" output-model="selectedParlor" button-label="name" item-label="name" tick-property="isSelected" output-properties="parlorId" on-close="changeParlor()" ></div>
    </div>
</div>
                                      </div>
                                  </div>
                              </div>
                              <div class="modal-footer">
                                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                  <button type="submit" ng-click="addMember(newMember)" class="btn btn-primary">Add</button>
                              </div>
                          </form>
                          </div>
                          <!-- /.modal-content -->
                      </div>
                      <!-- /.modal-dialog -->
                  </div>
    
    
    
    <div class="col-lg-12">
        <h4 Style = "text-align: center">Current Team Members</h4>
    </div>
    <div class ='row'></div>   
<div class ='row'>
  <div class="table-responsive">
         <table style="width:100%">
          <tr>
            <th>Email ID  </th>
            <th>Phone No.</th>
            <th>FirstName</th>
            <th>LastName</th>
            <th>Role</th>
<!--            <th>Parlors</th>-->
            <th>Update</th>
            <th>Delete</th>
         </tr>

         <tr ng-repeat="member in members" >
             <td ng-click="openMemberDetail(member.userId)">{{member.emailId}}</td>
             <td ng-click="openMemberDetail(member.userId)">{{member.phoneNumber}}</td>
             <td ng-click="openMemberDetail(member.userId)">{{member.firstName}}</td>
             <td ng-click="openMemberDetail(member.userId)">{{member.lastName}}</td>
             <td ng-click="openMemberDetail(member.userId)">{{member.role}}</td>
<!--
             <td ng-click="openMemberDetail(member.userId)">
                <span >{{member.parlorIds}}</span>
             </td>
-->
             <td><button  class="btn btn-primary" data-toggle="modal" data-target="#editMem" ng-click = "editMembers(member)"  class="btn btn-primary">Edit</button></td>
              <td><button  class="btn btn-primary"  ng-click = "deleteMembers(member)"  class="btn btn-primary">Delete</button></td>
         </tr> 


     
    </table>
     </div>   
</div>
</div> 
    
        
<div class="modal fade" id="editMem" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
              <div class="modal-header">
                     <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                     <h4 class="modal-title" id="myModalLabel">Update Member</h4>
              </div>
            <form role="form" ng-submit="updateMember()" name="employeeDetails">
                              <div class="modal-body">
                                  <div class="row">
                                          <div class="col-lg-6">
                                               <div class="form-group">
                                                  <label>Email ID*</label>
                                                  <input ng-model="editMember.emailId" class="form-control" name="email" required>
                                                  <span ng-show="employeeDetails.email.$dirty && employeeDetails.email.$error.required">Email is required.</span>
                                                  <span ng-show="employeeDetails.email.$error.email">Invalid email address.</span>
                                              </div>
                                               </div>
                                        <div class="col-lg-6">
                                              <div class="form-group">
                                                  <label>Password</label>
                                                  <input ng-model="editMember.password" class="form-control" name="password">
                                              </div>
                                          </div>
                                      
                                         <div class="col-lg-6">
                                              <div class="form-group">
                                                  <label>First Name*</label>
                                                  <input ng-model="editMember.firstName" class="form-control" name="firstname" ng-minlength=3 required>
                                                  <span ng-show="employeeDetails.firstname.$dirty && employeeDetails.firstname.$error.required">First Name is required.</span>
                                                  <span ng-show="employeeDetails.firstname.$dirty && employeeDetails.firstname.$error.minlength">First Name is too short.</span>
                                              </div>
                                            </div>
                                         
                                          <div class="col-lg-6">
                                              <div class="form-group">
                                                  <label>Last Name*</label>
                                                  <input ng-model="editMember.lastName" name="lastname" class="form-control" ng-minlength=3 required>
                                                  <span ng-show="employeeDetails.lastname.$dirty && employeeDetails.lastname.$error.required">Last Name is required.</span>
                                                  <span ng-show="employeeDetails.lastname.$dirty &&  employeeDetails.lastname.$error.minlength">Last Name is too short.</span>
                                              </div>
                                          </div>
                                         

                                          <div class="col-lg-6">
                                              <div class="form-group">
                                                  <label>Phone Number*</label>
                                                  <input ng-model="editMember.phoneNumber" class="form-control" name="phnNo" ng-pattern="/^[789]\d{9}$/" required>
                                                  <span ng-show="employeeDetails.phnNo.$dirty &&  employeeDetails.phnNo.$error.required">Phone Number is required.</span>
                                                  <span ng-show="employeeDetails.phnNo.$dirty &&  employeeDetails.phnNo.$error.pattern">Invalid Phone Number.</span>
                                              </div>
                                          </div>

                                          <div class="col-lg-6">
                                              <div class="form-group">
                                                  <label>Employee Category</label>
                                                      <select class="form-control" ng-model="editMember.role" ng-options="pos.role as pos.name for pos in positions">
                                                  </select>
                                                  <span ng-show="employeeDetails.empCategory.$dirty &&  employeeDetails.empCategory.$error.required">Employee Category is required.</span>
                                              </div>
                                          </div>
                                    <div class="col-lg-12">
                                        <div class="form-group">
                                                  <label>Select Salon</label>
    <div style = "margin-left:-20px">
    <div style="display:inline-flex" isteven-multi-select input-model="selectParlors" output-model="selectedParlor1" button-label="name" item-label="name" tick-property="isSelected" output-properties="parlorId" on-close="changeParlor()" ></div>
    </div>
</div>
                                      </div>
                                  </div>
                              </div>
                              <div class="modal-footer">
                                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                  <button type="submit" ng-click="updateMember()" class="btn btn-primary">update Member</button>
                              </div>
                          </form>
        
        </div></div></div>
