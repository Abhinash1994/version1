<style>

</style>


<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">Owner Vital Analysis</h1><br/>

    </div>
</div>

<!--
<div class="row">
    <div class="col-md-3 col-lg-3 col-md-offset-3"> <h4>Select Salon</h4></div>
    <div class="col-md-6 col-lg-3" style = "margin-left:-100px">
    <div style="display:inline" isteven-multi-select input-model="parlors" output-model="selectedParlor" button-label="name" item-label="name" tick-property="isSelected" output-properties="parlorId" on-close="changeParlor()" ></div>
    </div>
</div>
-->
<div class="row" style="margin:3px;">
    <div class="col-md-2 col-md-offset-2">
        <label>Select Status</label>
    </div>
    <div class="col-md-4">
            <select  class="form-control" ng-model="selectedSalonStatus" ng-options="a.value as a.name for a in salonStatus"></select>
    </div>

</div>
<div class="col-md-12">
        <div class="col-md-6 col-md-offset-2">
            <p class="input-group">
                <input type="text" class="form-control" uib-datepicker-popup="fullDate" ng-model="dts" is-open="popup1.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" />
                <span class="input-group-btn">
                    <button type="button" class="btn btn-default" ng-click="open1()"><i class="glyphicon glyphicon-calendar"></i></button>
                </span>
            </p>
        </div>
</div>
<div class="col-md-12" >
        <div class="col-md-6 col-md-offset-2">
            <p class="input-group">
                <input type="text" class="form-control" uib-datepicker-popup="fullDate" ng-model="dte" is-open="popup2.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" />
                <span class="input-group-btn">
                    <button type="button" class="btn btn-default" ng-click="open2()"><i class="glyphicon glyphicon-calendar"></i></button>
                </span>
            </p>
        </div>
        <div class="row col-md-2" >
            <button class="btn" id="branchfilter" ng-click = "applyFilter()">Apply Filter</button>
        </div>
</div>
<div class="row">
        <div class="form-inline row col-md-12 col-lg-12 col-md-offset-4" >
            <input type="text" ng-model="searchKey" ng-change = "search()" class="form-control" id="focusedInput" placeholder="Search" style="margin-left: -10px">
            <button class="btn btn-link btn-md" ng-click="exportToExcel('#tableToExport')" style="margin-left: -10px;border: 0;">
                    <span class="glyphicon glyphicon-share"></span>
                    Export to Excel
            </button>
        </div>
</div>

    <div  class="table-responsive" style="height:600px; width:100%">
    <table class="table table-striped table-hover" id="tableToExport">
        <thead>
        <tr>
            <th class="head-color-universal">Branch</th>
            <th class="head-color-universal">Total Revenue {A}</th>
            <th class="head-color-universal">Total Number Of Services {B}</th>
            <th class="head-color-universal">Total Number of Bills/ Customer {D}</th>
<!--            <th class="head-color-universal">Total No Of Unique Guests Visited{C}</th>-->
            <th class="head-color-universal">Total Number Of New Customer</th>
            <th class="head-color-universal"> Total Number Of Old Customer</th>
           
            <!--<th>Footfall {E}</th> -->
            <!--<th>Avg. Spend Per Unique Guest{F=A/C}</th>  -->
            <th class="head-color-universal"> Avg. Spend Per Customer {G=A/D}</th>
<!--              <th class="head-color-universal">Average Ticket Size<br/>{H=A/D}</th>-->
              <!--<th>Avg. No. Of Services Taken By Unique Guest{I=B/C}</th>-->
            <th class="head-color-universal">Avg. Number Of Service Per Customer {J=B/D}</th>
            <th class="head-color-universal">Number Of Repeat Customer</th>
         </tr>
      </thead>
         <tr ng-repeat = "data in parlorsData | filter:searchKey1">
             <td>{{data.parlorName}}-{{data.parlorAddress}}</td>
             <td>{{data.totalRevenue | number:0}}</td>
             <td>{{data.totalNoServices | number:0}}</td>
             <td>{{data.totalAppointments}}</td>
<!--             <td>{{data.customers[0].number}}</td>-->
            
             <!--<td>{{data.customers[0].number+data.customers[1].number}}</td>-->
             
             <!--<td>{{(data.totalRevenue / data.customers[0].number)| number:0 }}</td>-->
             <td>{{data.customers[0].number}}</td>
              <td>{{data.customers[1].number}}</td>
             <td>{{(data.totalRevenue /(data.customers[0].number+data.customers[1].number) )| number:0}}</td>
<!--             <td>{{(data.totalRevenue / data.totalAppointments)| number:0 }}</td>-->
             <!--<td>{{(data.totalNoServices / data.customers[0].number)|number:1 }}</td>-->
             <td>{{(data.totalNoServices / (data.customers[0].number+data.customers[1].number))|number:1 }}</td>
             <td>{{data.repeatedCustomer}}</td>
            
        </tr> 


     
    </table>
    </div>


    