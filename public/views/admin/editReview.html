<div class="row">
    <div class="col-lg-12">
        <h2 class="page-header">Edit Review</h2>
    </div>
</div>
<div class="row">
    <div class="col-md-3 col-lg-3 col-md-offset-2" style="text-align:right"> <h4>Select Salon</h4></div>
    <div class="col-md-6 col-lg-3" >
    <div style="display:inline-flex" isteven-multi-select input-model="parlors" output-model="selectedParlor" button-label="name" item-label="name" tick-property="isSelected" output-properties="parlorId" on-close="changeParlor()" ></div>
    </div>
</div>
<!--
<div class="row">
    <div class="col-md-3 col-lg-3 col-md-offset-2">
        <h4>Select Date Range</h4>
    </div>
    <div class="col-md-6 col-lg-3" style="display: inline-flex;">
        <input date-range-picker  name="daterange1" class="date-picker " type="text" id="inputbox-servicereport1" ng-model="dateRangeSelected"  required/>
    </div>
</div>
-->
<div class="row">
    <div class="col-md-12 col-lg-12 col-md-offset-2"><button class="btn btn-primary" id="apply-btnservice"  ng-click="applyFilter()">Apply Filter</button></div>
</div>

<div class="card" >
    <div class="container-fluid" >
        <div class="table-responsive" id="table-container" >
            <table  class="table table-striped table-hover" id="tableToExport">
                <thead>
               <tr>
                        <th class="head-color-universal" style = "text-align:center">Parlor Name</th>
<!--                        <th class="head-color-universal" style = "text-align:center">Appointment ID</th>-->
<!--                        <th class="head-color-universal" style = "text-align:center">Employee Name</th>-->
                        <th class="head-color-universal" style = "text-align:center">Client Details</th>
                        <th class="head-color-universal" style = "text-align:center">Appointment Date</th>
                        <th class="head-color-universal" style = "text-align:center; word-break: break-all;">Service</th>
                        <th class="head-color-universal" style = "text-align:center">Review Text</th>
                        <th class="head-color-universal" style = "text-align:center">Review Rating</th>
                </tr>
                </thead>
                <tbody>
                    <tr ng-repeat = "data in datas">
                            <td>
                                <span>{{data.parlorName}}-{{data.parlorAddress}}</span>
                            </td>
                            <td>{{data.client.name}}<br/>{{data.client.phoneNumber}}</td>
                            <td>{{data.appointmentStartTime | date:'MM/dd/yyyy h:mma'}}</td>
                            <td><ul  ng-repeat="serv in data.services" >
                                <li>{{serv.name}} - (<span ng-repeat = "emp in serv.employees">{{emp.name}},</span>)</li></ul>
                            </td>
                            <td style="word-break: break-all;">{{data.review.text}}</td>
                            <td><input type="number" min = "1" max="5" ng-readonly="!data.showUpdateBtn" ng-model = 'data.review.rating' style="text-align:center" class='form-control'/>
                                <span><button ng-if="!data.showUpdateBtn" ng-click="editReview(data)" class="form-control">Edit</button></span>
                                <span ng-if="data.showUpdateBtn"><button ng-click="newReview(data)" class="form-control">Update</button></span>
                                </td>
                    </tr>
                </tbody>
                
            </table>
            
        </div>
        </div>
    </div>
