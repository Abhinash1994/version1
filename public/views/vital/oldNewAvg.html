<style>
    table, th{
        text-align: center; 
    }
    #branchfilter{margin-top: 0px;}
</style>
<div class="col-lg-12">
        <h2 class="page-header">Old-New (Avg)</h2><br/>
        <div>
  </div>
    
<div class="row">
    <div class="col-md-3 col-lg-3 col-md-offset-3"> <h4>Select Salon</h4></div>
    <div class="col-md-3 col-lg-3" style = "margin-left:-100px">
    <div style="display:inline" isteven-multi-select input-model="parlors" output-model="selectedParlor" button-label="name" item-label="name" tick-property="isSelected" output-properties="parlorId" on-close="changeParlor()" ></div>
    </div>
</div>
<div class="col-md-12">
        <div class="col-md-6 col-md-offset-2">
            <p class="input-group">
                <input type="text" class="form-control" uib-datepicker-popup="fullDate" ng-model="dts"  is-open="popup1.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" />
                <span class="input-group-btn">
                    <button type="button" class="btn btn-default" ng-click="open1()"><i class="glyphicon glyphicon-calendar"></i></button>
                </span>
            </p>
        </div>
</div>
<div class="col-md-12">
        <div class="col-md-6 col-md-offset-2">
            <p class="input-group">
                <input type="text" class="form-control" uib-datepicker-popup="fullDate" ng-model="dte"  is-open="popup2.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" />
                <span class="input-group-btn">
                    <button type="button" class="btn btn-default" ng-click="open2()"><i class="glyphicon glyphicon-calendar"></i></button>
                </span>
            </p>
        </div>
    
        <div class="row col-md-2" >
            <button class="btn" id="branchfilter" ng-click = "applyFilter()">Apply</button>
        </div>
    </div>
<div class="row">
        <div class="form-inline row col-md-12 col-lg-12 col-md-offset-4" >
            <input type="text" ng-model="searchKey" class="form-control" id="focusedInput" placeholder="Search" style="margin-left: -10px">
            <button class="btn btn-link btn-md" ng-click="exportToExcel('#tableToExport')" style="margin-left: -10px;border: 0;">
                    <span class="glyphicon glyphicon-share"></span>
                    Export to Excel
            </button>
        </div>
</div>
    <div class="row"> </div>
<div class="row"> 
  <div class="table-responsive" style = "height:600px">
    <table class="table table-striped table-hover" id="tableToExport">
        <thead>
        <tr>
            <th rowspan="2" class="head-color-universal">Reporting Center</th>
            <th colspan="4" class="head-color-universal">New Guest</th>
            <th colspan="4" class="head-color-universal">Old Guest</th>
            <th colspan="4" class="head-color-universal">Total Guest</th>
         </tr>
          <tr >
           
            <th ng-repeat-start = "i in datas[0].customers" class="head-color-universal">No.of Service</th>
            <th class="head-color-universal">Revenue</th>
            <th class="head-color-universal">No. of Tickets</th>
            <th ng-repeat-end class="head-color-universal">Avg Tickets Size</th>       
         </tr>
        </thead>
         <tr ng-repeat = "data in datas| filter:searchKey">
            <td>{{data.parlorName}}-{{data.parlorAddress}}</td>
            <td ng-repeat-start="guest in data.customers">{{guest.serviceNo}}</td>
             <td>{{guest.revenue|number:0}}</td>
             <td>{{guest.tickectNo}}</td>
             <td ng-repeat-end>{{guest.revenue / guest.tickectNo |number:0}}</td>
        </tr> 
    </table>
  </div>

</div> 